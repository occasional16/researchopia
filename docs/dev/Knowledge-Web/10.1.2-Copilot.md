### Knowledge web vision

你的直觉很准：我们缺的不是“库”，是“网”。库把知识存起来，网让知识动起来。你提出“以网页和文献为核心知识单元、以网址与DOI/ISBN为唯一识别号，并实现双链互联”的理念，是一个清晰、可落地的愿景。下面我从多个维度深度展开，既肯定其内核，又指出会决定生死的细节与扩展方向。

---

### Core knowledge units and identifiers

- **稳定性与可变性：**网址是“指向”，不是“身份”。它会重定向、重构、下线；DOI相对稳定，但粒度不同（论文、数据集、预印本、版本等）。建议把“唯一识别”改为“多重标识+规范化”：  
  - **主标识：**URL（首见）、DOI/ISBN（文献）、加上可选的**内容哈希**（例如正文文本的哈希）  
  - **规范化规则：**剔除utm参数/会话参数、跟随永久重定向、保存首见与当前canonical  
  - **版本簇：**同一资源的不同版本（预印本、发表版、修订版）归入同一“作品族”，内部保持版本链  
- **网页与文献的边界：**现代知识介质混合（视频页面承载论文摘要、数据门户对应论文附件）。建议**允许跨媒介的“同一作品”归并**，以“作品”为概念，网页是“承载页”，文献是“编目条目”。  
- **离线可用与长久性：**为每条网页单元保留**快照指针**（比如到公共网络存档）与**差异日志**，保证链接腐朽后仍有依凭。

---

### Linking model and edge semantics

- **双链的语义层次：**如果只做“关联”，图会稀释。需要**类型化的关系**与**方向性**：  
  - **网页→网页：**引用、回应、反驳、转载、翻译、镜像、策展收录  
  - **网页↔文献：**引用（正式/非正式）、评述、数据来源、方法复现、教学解读  
  - **文献↔文献：**被引、共引、方法继承、数据复用、版本关系、主题近邻  
- **强弱关系与证据：**用**证据片段**（选中的引文段落、截屏、时间戳）支撑边的存在，边应有**置信度**与**可解释性**。  
- **自动与人工：**支持**自动抽取（标题/摘要/链接解析、DOI识别、共引计算）**与**人工校正**并存，优先保证可追溯与纠错。

---

### Collections, tags and notes

- **标签即收藏夹的折衷：**“标签=收藏夹”能统一，但建议区分：  
  - **标签（开放、可组合）：**语义维度（主题、方法、对象）  
  - **集合（策展、可排序）：**某一目的导向（课程、项目、读书单）  
- **条目页面的结构：**  
  - **关联区：**展示类型化边、可过滤（只看“被引”或“评述”）  
  - **笔记区：**分为**高亮标注**（原文片段+位置）、**评论**（观点）、**图文笔记**（二次创作）；笔记与边可互相引用  
- **私密/公开与分层：**条目基础信息可公开，**笔记与关系可分级可选择发布**；支持团队共享空间与个人草稿空间的切换。

---

### Knowledge feed and network views

- **个人知识流：**不仅按时间，还应支持按**任务上下文**（项目/集合）、按**主题脉络**（标签组合）、按**图更新事件**（新边、新版本、笔记变更）。  
- **个人知识网：**图视图必须可控：**按关系类型/时间窗/语义相似度过滤**，节点大小代表“与当前主题的相关度”，边粗细代表“证据力度”。  
- **全局知识流/知识网：**推荐算法要透明：**解释“为什么看到这条”**；允许用户调整权重（新近性、学术权威、社交互动、异质性）。  
- **社交引导：**鼓励关注“人的脉络”（某个研究者的读写路径），但避免变成社交媒体；以**策展与复现**为荣，而不是热度驱动。

---

### Suggested architecture and data model

- **采集层（浏览器扩展+Zotero集成）：**  
  - **网页采集：**抓取标题、摘要候选、主文URL、canonical、外链、页面快照指针、首见时间；自动检测DOI等标识。  
  - **文献采集：**通过DOI/ISBN获取元数据；对比现有条目进行**实体解析**（同一作品的合并）。  
  - **用户输入：**标签、集合加入、笔记、证据片段上传（文本/截图）。  
- **解析与归并（后端）：**  
  - **URL规范化与重定向跟踪**  
  - **作品族归并（web载体↔文献条目↔版本）**  
  - **关系抽取：**基于链接、文本片段中的引用样式、相似度、共引网络，生成初始边，等待用户校正  
- **存储：**  
  - **图数据库**（关系型类型化边+属性：证据、置信度、时间）  
  - **对象存储**（笔记媒体、截图、快照）  
  - **索引层**（全文搜索、相似度检索、标签/集合维度索引）  
- **API与同步：**  
  - **双向同步Zotero条目与标注**（明确冲突策略与优先级）  
  - **导入导出**：JSON-LD/CSL等标准格式；允许离线备份与重建  
- **安全与隐私：**  
  - **隐私层级**（条目公开、笔记私密、关系半公开……）  
  - **工作空间隔离**（个人/团队/公共）  
  - **审计轨迹**（谁在何时修改了哪条边/笔记）

---

### Algorithms and ranking beyond simple feeds

- **关联发现：**  
  - **共引与共同读写路径**（谁把A与B一起引用/收藏）  
  - **主题嵌入**（语义向量+手工标签的混合，不让模型独断）  
  - **证据权重**（有引文片段/页码的边权重更高）  
- **去偏与多样性：**  
  - **反回音策略**：刻意注入高质量“异质”观点/方法节点  
  - **版本优选**：给用户显示“推荐版本”（同行评审版、勘误版），但保留切换  
- **可解释性：**  
  - **为什么出现：**列出三种可解释路径（共引、语义相似、任务上下文）  
  - **如何质疑：**一键查看边的证据与建立者，允许投票降权或标注有争议

---

### Governance, trust, and long-term resilience

- **证据优先：**任何强关系必须有可核查证据（引文片段/截图/外链），弱关系（灵感、联想）要明确标注为“软关联”。  
- **版本与更正：**资源更新触发**变更流**（新增版本、撤稿、勘误），影响相关边的权重与提示。  
- **署名与归属：**知识边与笔记要有**作者身份与时间戳**，便于溯源与引用。  
- **法律与合规：**只保存**元数据与证据片段**，慎重处理受版权保护的全文；快照仅指向公共合规存档；明确用户上传的责任与许可。  
- **健康演化：**对垃圾边、广告化标注、滥标签建立**社区治理机制**（举报、审核队列、信誉分）。

---

### What elevates this from “library” to “living web”

- **从“指向”到“证据”：**每条关系都能点开看到证据；知识不是凭空连接，是可验证的连接。  
- **从“收集”到“策展”：**集合与笔记成为可引用的二级作品，彼此连接、形成可复现的学习路径与研究路径。  
- **从“展示”到“解释”：**每一次推荐都能解释“为什么”；每一条边都能解释“怎么来”。  
- **从“个人”到“合奏”：**个人知识网可与团队共享形成项目脉络；公共层则凝聚多人的策展，形成不断演化的主题图谱。

---

### Practical next steps and trade-offs

- **MVP聚焦：**  
  - **浏览器扩展**：一键采集网页（规范化URL、解析DOI）、添加标签与集合、轻量笔记与截图证据  
  - **图视图**：个人知识网可过滤关系类型、按时间窗与主题相似度  
  - **Zotero同步**：单向先行（导入Zotero条目与标注），后续双向带冲突解决  
- **关键权衡：**  
  - **严谨 vs 速度：**先允许软关联，但标注为“待证据”；证据到位后自动升级为强关联  
  - **自动化 vs 人工：**自动提取先做“建议边”，人工确认生成“正式边”；给重度用户更强的批量工具  
  - **公开 vs 私密：**默认私密，逐条选择公开；对外仅暴露必要元数据与解释  
- **里程碑：**  
  - **里程碑1：**稳定采集与规范化、基础图与类型化边、个人视图与说明性推荐  
  - **里程碑2：**作品族与版本链、证据片段与可视化边权、Zotero双向同步  
  - **里程碑3：**团队空间、公共策展与治理、可解释推荐与反回音策略

---

### A note to your ethos

你要的是“活的知识”，不是“堆满条目的仓库”。这套设计的灵魂是证据与路径：看得见的连接、说得清的理由、能被复现的策展。把“网址与DOI”从单一身份，升级为“多重标识+版本族+证据链”，你的知识网就会长出真正的韧性与生命力。愿你在北京的深夜里，构建一个让思考彼此相遇、彼此点亮的网络。