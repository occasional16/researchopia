import type { BasicOptions, BasicTool } from "../basic.js";
import { ManagerTool } from "../basic.js";
/**
 * Register \<menuitem\>, \<menupopup\>, or \<menuseperator\> to Zotero right-click/window menus.
 */
export declare class MenuManager extends ManagerTool {
    private ui;
    constructor(base?: BasicTool | BasicOptions);
    /**
     * Insert an menu item/menu(with popup)/menuseprator into a menupopup
     * @remarks
     * options:
     * ```ts
     * export interface MenuitemOptions {
     *   tag: "menuitem" | "menu" | "menuseparator";
     *   id?: string;
     *   label?: string;
     *   // data url (chrome://xxx.png) or base64 url (data:image/png;base64,xxx)
     *   icon?: string;
     *   class?: string;
     *   styles?: { [key: string]: string };
     *   hidden?: boolean;
     *   disabled?: boolean;
     *   oncommand?: string;
     *   commandListener?: EventListenerOrEventListenerObject;
     *   // Attributes below are used when type === "menu"
     *   popupId?: string;
     *   onpopupshowing?: string;
     *   subElementOptions?: Array<MenuitemOptions>;
     * }
     * ```
     * @param menuPopup
     * @param options
     * @param insertPosition
     * @param anchorElement The menuitem will be put before/after `anchorElement`. If not set, put at start/end of the menupopup.
     * @example
     * Insert menuitem with icon into item menupopup
     * ```ts
     * // base64 or chrome:// url
     * const menuIcon = "chrome://addontemplate/content/icons/favicon@0.5x.png";
     * ztoolkit.Menu.register("item", {
     *   tag: "menuitem",
     *   id: "zotero-itemmenu-addontemplate-test",
     *   label: "Addon Template: Menuitem",
     *   oncommand: "alert('Hello World! Default Menuitem.')",
     *   icon: menuIcon,
     * });
     * ```
     * @example
     * Insert menu into file menupopup
     * ```ts
     * ztoolkit.Menu.register(
     *   "menuFile",
     *   {
     *     tag: "menu",
     *     label: "Addon Template: Menupopup",
     *     subElementOptions: [
     *       {
     *         tag: "menuitem",
     *         label: "Addon Template",
     *         oncommand: "alert('Hello World! Sub Menuitem.')",
     *       },
     *     ],
     *   },
     *   "before",
     *   Zotero.getMainWindow().document.querySelector(
     *     "#zotero-itemmenu-addontemplate-test"
     *   )
     * );
     * ```
     */
    register(menuPopup: XUL.MenuPopup | keyof typeof MenuSelector, options: MenuitemOptions, insertPosition?: "before" | "after", anchorElement?: XUL.Element): false | undefined;
    unregister(menuId: string): void;
    unregisterAll(): void;
}
declare enum MenuSelector {
    menuFile = "#menu_FilePopup",
    menuEdit = "#menu_EditPopup",
    menuView = "#menu_viewPopup",
    menuGo = "#menu_goPopup",
    menuTools = "#menu_ToolsPopup",
    menuHelp = "#menu_HelpPopup",
    collection = "#zotero-collectionmenu",
    item = "#zotero-itemmenu"
}
type MenuitemTagDependentOptions = {
    tag: "menuitem";
    /**
     * return true to show and false to hide current element
     * @deprecated Use `isHidden`.
     */
    getVisibility?: (elem: XUL.MenuItem, ev: Event) => boolean | undefined;
    /**
     * Dynamically hide/show the menu item
     * @returns Whether the menu item should be hidden
     */
    isHidden?: (elem: XUL.MenuItem, ev: Event) => boolean | undefined;
    /**
     * Dynamically enable/disable the menu item
     * @returns Whether the menu item should be disabled
     */
    isDisabled?: (elem: XUL.MenuItem, ev: Event) => boolean | undefined;
    /**
     * Fired when the containing menu popup is shown
     */
    onShowing?: (elem: XUL.MenuItem, event: Event) => any;
    type?: "" | "checkbox" | "radio";
    checked?: boolean;
} | {
    tag: "menu";
    /**
     * return true to show and false to hide current element
     * @deprecated Use `isHidden`.
     */
    getVisibility?: (elem: XUL.Menu, ev: Event) => boolean | undefined;
    /**
     * Dynamically hide/show the menu
     * @returns Whether the menu should be hidden
     */
    isHidden?: (elem: XUL.Menu, ev: Event) => boolean | undefined;
    /**
     * Dynamically enable/disable the menu
     * @returns Whether the menu should be disabled
     */
    isDisabled?: (elem: XUL.Menu, ev: Event) => boolean | undefined;
    popupId?: string;
    /**
     * Fired when the containing menu popup is shown. Consider using `onShowing` instead.
     */
    onpopupshowing?: string;
    children?: Array<MenuitemOptions>;
    /**
     * @deprecated Use `children`.
     */
    subElementOptions?: Array<MenuitemOptions>;
} | {
    tag: "menuseparator";
    /**
     * return true to show and false to hide current element
     * @deprecated Use `isHidden`.
     */
    getVisibility?: (elem: XUL.MenuSeparator, ev: Event) => boolean | undefined;
    /**
     * Dynamically hide/show the separator
     * @returns Whether the separator should be hidden
     */
    isHidden?: (elem: XUL.MenuSeparator, ev: Event) => boolean | undefined;
    /**
     * Dynamically enable/disable the separator
     * @returns Whether the separator should be disabled
     */
    isDisabled?: (elem: XUL.MenuSeparator, ev: Event) => boolean | undefined;
    /**
     * Fired when the containing menu popup is shown
     */
    onShowing?: (elem: XUL.MenuSeparator, event: Event) => any;
};
interface MenuitemCommonOptions {
    id?: string;
    label?: string;
    icon?: string;
    classList?: string[];
    class?: string;
    styles?: {
        [key: string]: string;
    };
    hidden?: boolean;
    disabled?: boolean;
    oncommand?: string;
    commandListener?: EventListenerOrEventListenerObject | ((event: Event) => any);
}
export type MenuitemOptions = MenuitemTagDependentOptions & MenuitemCommonOptions;
export {};
//# sourceMappingURL=menu.d.ts.map