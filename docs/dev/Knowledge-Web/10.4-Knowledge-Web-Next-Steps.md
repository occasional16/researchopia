# 10.4 知识网后续开发计划 | Knowledge Web Next Steps

**MVP完成后的迭代路线图**

> 基于 10.1.1-ChatGPT、10.1.2-Copilot、10.2-System-Design-v2 的深度分析

---

## 一、当前状态 (2025-12-05)

### ✅ MVP已完成
- 数据库: 7表 (knowledge_units, knowledge_links, tags, unit_tags, kn_collections, collection_units, kn_notes)
- API: 11端点 (CRUD完整)
- 扩展: 知识单元采集
- 网站: 知识流、详情页、标签管理、集合管理

### ✅ Phase 2.1 已完成 (2025-12-05)
- **类型化双链创建**: 详情页添加"建立关联"功能
- 支持5种关系类型: cite, respond, review, derive, related
- 搜索/选择目标单元 + 可选证据片段

---

## 二、Phase 2: 核心增强 (建议顺序)

### ~~P2.1 双链创建功能~~ ✅ 已完成

### P2.2 URL规范化 ⭐⭐⭐
**价值**: 去重、防止同一网页重复采集
**实现**:
- 剔除utm/session参数
- 跟随重定向获取canonical
- 保存前检查是否已存在

### P2.3 DOI自动检测与补全 ⭐⭐
**价值**: 学术内容自动识别
**实现**:
- 扩展采集时自动检测页面DOI
- 调用CrossRef/OpenAlex补全元数据
- 作者、期刊、摘要自动填充

### P2.4 图视图可视化 ⭐⭐
**价值**: 知识网络关系可视化
**实现**:
- D3.js 力导向图
- 按关系类型/时间过滤
- 节点点击跳转详情

---

## 三、Phase 3: 生态集成

### P3.1 OpenAlex集成
- 引用网络补全
- 作者/机构关联
- 概念标签自动打标

### P3.2 Zotero双向同步
- 导入Zotero条目
- 同步标注/笔记
- 冲突解决策略

### P3.3 快照保存
- WARC格式存档
- Internet Archive指针
- 链接腐朽检测

---

## 四、Phase 4: 社交与发现

### P4.1 全局知识流
- 公开单元聚合
- 按主题/标签浏览
- 发现他人策展

### P4.2 推荐算法
- 共引分析
- 语义相似度
- 可解释推荐("因为你收藏了X")

### P4.3 团队空间
- 项目协作
- 共享集合
- 权限管理

---

## 五、优先级矩阵

| 功能 | 用户价值 | 实现难度 | 建议优先级 |
|------|---------|---------|-----------|
| 双链创建 | ⭐⭐⭐ | 中 | **P1** |
| URL规范化 | ⭐⭐⭐ | 低 | **P1** |
| DOI自动补全 | ⭐⭐ | 中 | P2 |
| 图视图 | ⭐⭐ | 中 | P2 |
| OpenAlex | ⭐⭐ | 中 | P3 |
| Zotero同步 | ⭐⭐⭐ | 高 | P3 |
| 全局知识流 | ⭐⭐ | 中 | P4 |
| 团队空间 | ⭐⭐ | 高 | P4 |

---

## 六、技术债务

| 问题 | 影响 | 解决方案 |
|------|------|---------|
| RLS绕过使用admin | 安全隐患 | 修复RLS策略或改用service role |
| 扩展URL硬编码 | 部署困难 | 改为动态配置 |
| 缺少单元测试 | 稳定性 | 补充API测试 |

---

## 七、下一步行动建议

**立即可做 (1-2天)**:
1. ✅ 双链创建功能
2. ✅ URL规范化

**短期 (1周)**:
3. DOI自动检测
4. 扩展URL配置化
5. 基础图视图

**中期 (2-4周)**:
6. OpenAlex集成
7. 全局知识流
8. 生产环境部署

---

*创建: 2025-12-05 | 基于: 10.1.1/10.1.2/10.2 综合分析*
