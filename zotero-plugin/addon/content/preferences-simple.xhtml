<?xml version="1.0"?>

<vbox xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
      xmlns:html="http://www.w3.org/1999/xhtml"
      data-l10n-id="researchopia-preferences-title">

  <script type="application/javascript"><![CDATA[
    // Simple preference panel test
    try {
      Zotero.debug("[Researchopia] SIMPLE: Preference panel script started");
      
      // Initialize after DOM loaded
      function initPrefs() {
        Zotero.debug("[Researchopia] SIMPLE: Initializing preferences");
        
        const testBtn = document.getElementById('test-btn');
        const loginBtn = document.getElementById('login-btn');
        
        if (testBtn) {
          testBtn.addEventListener('click', function() {
            Zotero.debug("[Researchopia] SIMPLE: Test button clicked!");
            alert("Test button works!");
          });
          Zotero.debug("[Researchopia] SIMPLE: Test button listener added");
        }
        
        if (loginBtn) {
          loginBtn.addEventListener('click', function() {
            Zotero.debug("[Researchopia] SIMPLE: Login button clicked!");
            alert("Login button works!");
          });
          Zotero.debug("[Researchopia] SIMPLE: Login button listener added");
        }
      }
      
      // Multiple initialization approaches
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPrefs);
      } else {
        initPrefs();
      }
      
      setTimeout(initPrefs, 100);
      setTimeout(initPrefs, 500);
      
    } catch (error) {
      Zotero.debug("[Researchopia] SIMPLE: Script error: " + error);
    }
  ]]></script>

  <groupbox>
    <caption label="Researchopia Settings"/>
    
    <vbox>
      <html:h3>ðŸ”¬ Academic Annotation Sharing</html:h3>
      <description>Share and discover academic annotations with researchers worldwide</description>
      
      <hbox>
        <button id="test-btn" label="Test Connection" />
        <button id="login-btn" label="Login" />
      </hbox>
      
      <separator/>
      
      <checkbox id="enable-sharing" label="Enable annotation sharing" checked="true"/>
      <checkbox id="auto-sync" label="Auto-sync annotations" checked="false"/>
      
    </vbox>
  </groupbox>

</vbox>